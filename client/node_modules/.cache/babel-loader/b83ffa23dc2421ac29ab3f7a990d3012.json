{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/ydocs/Desktop/ccmeforrealthistime/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/ydocs/Desktop/ccmeforrealthistime/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/ydocs/Desktop/ccmeforrealthistime/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import{Link,useRouteMatch}from'react-router-dom';import{connect}from'react-redux';import{createProfile,getCurrentProfile}from'../../actions/profile';var initialState={bio:'',twitter:'',facebook:'',linkedin:'',youtube:'',instagram:''};var ProfileForm=function ProfileForm(_ref){var _ref$profile=_ref.profile,profile=_ref$profile.profile,loading=_ref$profile.loading,createProfile=_ref.createProfile,getCurrentProfile=_ref.getCurrentProfile,history=_ref.history;var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var creatingProfile=useRouteMatch('/create-profile');var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),displaySocialInputs=_useState4[0],toggleSocialInputs=_useState4[1];useEffect(function(){if(!profile)getCurrentProfile();if(!loading&&profile){var profileData=_objectSpread({},initialState);for(var key in profile){if(key in profileData)profileData[key]=profile[key];}setFormData(profileData);}},[loading,getCurrentProfile,profile]);var username=formData.username,bio=formData.bio,twitter=formData.twitter,facebook=formData.facebook,linkedin=formData.linkedin,youtube=formData.youtube,instagram=formData.instagram;var onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();createProfile(formData,history,profile?true:false);};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"large text-primary\",children:creatingProfile?'Create Your Profile':'Edit Your Profile'}),/*#__PURE__*/_jsxs(\"p\",{className:\"lead\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),creatingProfile?\" Let's get some information to make your\":' Add some changes to your profile']}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"username\",name:\"username\",value:username,onChange:onChange}),/*#__PURE__*/_jsx(\"small\",{className:\"form-text\",children:\"Enter a unique username for your profile so people can find you.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"A short bio of yourself\",name:\"bio\",value:bio,onChange:onChange}),/*#__PURE__*/_jsx(\"small\",{className:\"form-text\",children:\"Tell us a little about yourself\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return toggleSocialInputs(!displaySocialInputs);},type:\"button\",className:\"btn btn-light\",children:\"Add Social Network Links\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Optional\"})]}),displaySocialInputs&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group social-input\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-twitter fa-2x\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Twitter URL\",name:\"twitter\",value:twitter,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group social-input\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook fa-2x\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Facebook URL\",name:\"facebook\",value:facebook,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group social-input\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-youtube fa-2x\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"YouTube URL\",name:\"youtube\",value:youtube,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group social-input\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-linkedin fa-2x\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Linkedin URL\",name:\"linkedin\",value:linkedin,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group social-input\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-instagram fa-2x\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Instagram URL\",name:\"instagram\",value:instagram,onChange:onChange})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primary my-1\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-light my-1\",to:\"/dashboard\",children:\"Go Back\"})]})]});};var mapStateToProps=function mapStateToProps(state){return{profile:state.profile};};export default connect(mapStateToProps,{createProfile:createProfile,getCurrentProfile:getCurrentProfile})(ProfileForm);","map":{"version":3,"sources":["/Users/ydocs/Desktop/ccmeforrealthistime/client/src/components/profile-forms/ProfileForm.js"],"names":["React","Fragment","useState","useEffect","Link","useRouteMatch","connect","createProfile","getCurrentProfile","initialState","bio","twitter","facebook","linkedin","youtube","instagram","ProfileForm","profile","loading","history","formData","setFormData","creatingProfile","displaySocialInputs","toggleSocialInputs","profileData","key","username","onChange","e","target","name","value","onSubmit","preventDefault","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { createProfile, getCurrentProfile } from '../../actions/profile';\n\nconst initialState = {\n  bio: '',\n  twitter: '',\n  facebook: '',\n  linkedin: '',\n  youtube: '',\n  instagram: ''\n};\n\nconst ProfileForm = ({\n  profile: { profile, loading },\n  createProfile,\n  getCurrentProfile,\n  history\n}) => {\n  const [formData, setFormData] = useState(initialState);\n\n  const creatingProfile = useRouteMatch('/create-profile');\n\n  const [displaySocialInputs, toggleSocialInputs] = useState(false);\n\n  useEffect(() => {\n    if (!profile) getCurrentProfile();\n    if (!loading && profile) {\n      const profileData = { ...initialState };\n      for (const key in profile) {\n        if (key in profileData) profileData[key] = profile[key];\n      }\n      setFormData(profileData);\n    }\n  }, [loading, getCurrentProfile, profile]);\n\n  const {\n    username,\n    bio,\n    twitter,\n    facebook,\n    linkedin,\n    youtube,\n    instagram\n  } = formData;\n\n  const onChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    createProfile(formData, history, profile ? true : false);\n  };\n\n  return (\n    <Fragment>\n      <h1 className=\"large text-primary\">\n        {creatingProfile ? 'Create Your Profile' : 'Edit Your Profile'}\n      </h1>\n      <p className=\"lead\">\n        <i className=\"fas fa-user\" />\n        {creatingProfile\n          ? ` Let's get some information to make your`\n          : ' Add some changes to your profile'}\n      </p>\n      <form className=\"form\" onSubmit={onSubmit}>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            placeholder=\"username\"\n            name=\"username\"\n            value={username}\n            onChange={onChange}\n          />\n          <small className=\"form-text\">\n            Enter a unique username for your profile so people can find you.\n          </small>\n        </div>\n        <div className=\"form-group\">\n          <textarea\n            placeholder=\"A short bio of yourself\"\n            name=\"bio\"\n            value={bio}\n            onChange={onChange}\n          />\n          <small className=\"form-text\">Tell us a little about yourself</small>\n        </div>\n\n        <div className=\"my-2\">\n          <button\n            onClick={() => toggleSocialInputs(!displaySocialInputs)}\n            type=\"button\"\n            className=\"btn btn-light\"\n          >\n            Add Social Network Links\n          </button>\n          <span>Optional</span>\n        </div>\n\n        {displaySocialInputs && (\n          <Fragment>\n            <div className=\"form-group social-input\">\n              <i className=\"fab fa-twitter fa-2x\" />\n              <input\n                type=\"text\"\n                placeholder=\"Twitter URL\"\n                name=\"twitter\"\n                value={twitter}\n                onChange={onChange}\n              />\n            </div>\n\n            <div className=\"form-group social-input\">\n              <i className=\"fab fa-facebook fa-2x\" />\n              <input\n                type=\"text\"\n                placeholder=\"Facebook URL\"\n                name=\"facebook\"\n                value={facebook}\n                onChange={onChange}\n              />\n            </div>\n\n            <div className=\"form-group social-input\">\n              <i className=\"fab fa-youtube fa-2x\" />\n              <input\n                type=\"text\"\n                placeholder=\"YouTube URL\"\n                name=\"youtube\"\n                value={youtube}\n                onChange={onChange}\n              />\n            </div>\n\n            <div className=\"form-group social-input\">\n              <i className=\"fab fa-linkedin fa-2x\" />\n              <input\n                type=\"text\"\n                placeholder=\"Linkedin URL\"\n                name=\"linkedin\"\n                value={linkedin}\n                onChange={onChange}\n              />\n            </div>\n\n            <div className=\"form-group social-input\">\n              <i className=\"fab fa-instagram fa-2x\" />\n              <input\n                type=\"text\"\n                placeholder=\"Instagram URL\"\n                name=\"instagram\"\n                value={instagram}\n                onChange={onChange}\n              />\n            </div>\n          </Fragment>\n        )}\n\n        <input type=\"submit\" className=\"btn btn-primary my-1\" />\n        <Link className=\"btn btn-light my-1\" to=\"/dashboard\">\n          Go Back\n        </Link>\n      </form>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  profile: state.profile\n});\n\nexport default connect(mapStateToProps, { createProfile, getCurrentProfile })(\n  ProfileForm\n);\n"]},"metadata":{},"sourceType":"module"}